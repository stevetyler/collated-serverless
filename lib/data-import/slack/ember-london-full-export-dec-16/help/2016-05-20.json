[
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Hi all.  I just moved all my data from json to sql.  It populates just fine on my desktop but not on ios.  Anyone know why that would happen?",
        "ts": "1463750293.000100"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "<@U0LVBSC67>: we might need a bit more information to help out with that one",
        "ts": "1463750644.000101"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Well it looks like the pages that contain information from my database are not loading on my phone but they are loading just fine on desktop",
        "ts": "1463750690.000102"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "(and i\u2019m in over my head but doing my best)",
        "ts": "1463750718.000103"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "when you say sql, do you mean indexeddb?",
        "ts": "1463750934.000104"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "No.  I mean I used an sql database and php to call it.  I have the ember converting it from there.",
        "ts": "1463751059.000105"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "ah",
        "ts": "1463751323.000106"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "and what are you sending from the server to ember?",
        "ts": "1463751334.000107"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "what format, I mean",
        "ts": "1463751340.000108"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "text",
        "ts": "1463751474.000109"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "is that what you meant?",
        "ts": "1463751597.000110"
    },
    {
        "type": "message",
        "user": "U14KVFYS3",
        "text": "Ideally, the responses from your API endpoints should return JSON formatted data from each database record, matching the structure of your original JSON files. Everything ought to work the same in Ember from thereon. Can you share any snippets?",
        "edited": {
            "user": "U14KVFYS3",
            "ts": "1463752074.000000"
        },
        "ts": "1463752061.000111"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Sure...",
        "ts": "1463752281.000113"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "import Ember from 'ember';\n\nexport default Ember.Route.extend({\n  ajax: Ember.inject.service(),\n  model: function(params) {\n    return this.get('ajax').request('<http:\/\/www.jkpike.com\/products.php>')\n     .then(data =&gt; data.filterBy('category', params.category));\n  }\n\n});",
        "ts": "1463752282.000114"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "hmm, payload looks fine",
        "ts": "1463752465.000115"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "do you see any errors on iOS?",
        "ts": "1463752482.000116"
    },
    {
        "type": "message",
        "user": "U043AB2QT",
        "text": "`Content-Type` of response is not set to `application\/json` <@U03V8V08M>. Would that cause any issues?",
        "edited": {
            "user": "U043AB2QT",
            "ts": "1463752522.000000"
        },
        "ts": "1463752515.000117"
    },
    {
        "type": "message",
        "user": "U043AB2QT",
        "text": "It's `text\/html`",
        "ts": "1463752531.000119"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "I don\u2019t see any errors, just a blank screen",
        "ts": "1463752549.000120"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "<@U0LVBSC67>: if you connect the phone to your mac with a cable, you can open a remote inspector from within safari",
        "ts": "1463752585.000121"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "from there you can see what appears in the console",
        "ts": "1463752594.000122"
    },
    {
        "type": "message",
        "user": "U14KVFYS3",
        "text": "Yeah, if you add a header manually with PHP, jQuery will understand that the data returned is JSON\n`header('Content-Type: application\/json');`",
        "ts": "1463752627.000123"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "weird that it\u2019d work on desktop (presumably chrome) but not iOS though",
        "ts": "1463752649.000124"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "try it in desktop safari too I guess",
        "ts": "1463752659.000125"
    },
    {
        "type": "message",
        "user": "U03V8V08M",
        "text": "good spot on the content-type <@U043AB2QT> and <@U14KVFYS3>",
        "ts": "1463752669.000126"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "works in chrome and firefox on desktop.  I will try the header thing and then go look for a phone cable",
        "ts": "1463752681.000127"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "so to clarify - header should be header('Content-Type: application\/json');`\ncorrect?",
        "ts": "1463752714.000128"
    },
    {
        "type": "message",
        "user": "U14KVFYS3",
        "text": "An alternative would be to use `JSON.parse()` on the returned content body in your Ember app. (I think)\n```\nreturn this.get('ajax').request('<http:\/\/www.jkpike.com\/products.php>')\n    .then(data =&gt; JSON.parse(data).filterBy('category', params.category));\n```\n\n`filterBy` won\u2019t work on this as it becomes just an `object`",
        "edited": {
            "user": "U14KVFYS3",
            "ts": "1463752935.000000"
        },
        "ts": "1463752757.000129"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "trying now",
        "ts": "1463752808.000131"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "ok that didn\u2019t work.  trying header thing now",
        "ts": "1463753086.000133"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "can this be a CORS problem?",
        "ts": "1463753348.000134"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "header fix isn\u2019t working.  not sure",
        "ts": "1463753407.000135"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "when trying on your desktop, your app has been deployed, right? You are not trying with the development server (ie: `ember s`)",
        "ts": "1463753408.000136"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "yes app has been deployed",
        "ts": "1463753435.000137"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "do you know if you are doing CORS on your PHP app?",
        "ts": "1463753572.000138"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Haha\u2026I don't",
        "ts": "1463753597.000139"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "try this `header(\"Access-Control-Allow-Origin: *\u201d)`",
        "ts": "1463753602.000140"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "probably means that I am not",
        "ts": "1463753603.000141"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "ok",
        "ts": "1463753614.000142"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "I do know that iOS has slightly different expectations in terms of CORS. It might be that",
        "ts": "1463753623.000143"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Tried header again.  didn\u2019t work",
        "ts": "1463753685.000144"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "is the app publicly accessible?",
        "ts": "1463753695.000145"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "I can make it public.  I just have to push the most recent changes",
        "ts": "1463753812.000146"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "if you could, that could help a lot",
        "ts": "1463753832.000147"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Hey Pablo.  Here\u2019s a new link.  :slightly_smiling_face:  <https:\/\/github.com\/jenniferpike\/app_jkpike>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "jenniferpike\/app_jkpike",
                "title_link": "https:\/\/github.com\/jenniferpike\/app_jkpike",
                "text": "Contribute to app_jkpike development by creating an account on GitHub.",
                "fallback": "GitHub: jenniferpike\/app_jkpike",
                "thumb_url": "https:\/\/avatars1.githubusercontent.com\/u\/9136974?v=3&s=400",
                "from_url": "https:\/\/github.com\/jenniferpike\/app_jkpike",
                "thumb_width": 400,
                "thumb_height": 400,
                "id": 1
            }
        ],
        "ts": "1463755706.000148"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "oh, sorry. I meant the working app. As deployed",
        "ts": "1463755759.000150"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "I\u2019d like to have a look at the headers passed between the Ember app and the API",
        "edited": {
            "user": "U05485UQL",
            "ts": "1463755784.000000"
        },
        "ts": "1463755773.000151"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "you mean <http:\/\/jkpike.com> ?",
        "attachments": [
            {
                "title": "JK Pike of London - Stylish home furnishings",
                "title_link": "http:\/\/jkpike.com",
                "text": "JK Pike of London. Stylish home furnishings. We bring you the reclaimed, rustic, vintage and industrial look for your home at prices for every budget.",
                "fallback": "JK Pike of London - Stylish home furnishings",
                "from_url": "http:\/\/jkpike.com",
                "thumb_url": "http:\/\/jkpike.com\/images\/logo-76bf23c6ccf7f1e1edc93d128661ac60.gif",
                "thumb_width": 32,
                "thumb_height": 32,
                "id": 1
            }
        ],
        "ts": "1463755788.000153"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "yes",
        "ts": "1463755791.000154"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "you showed it to me some time ago, but forgot where it was",
        "ts": "1463755806.000156"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "LOL.  At least you got me to push on git which I needed to do anyway",
        "ts": "1463755818.000157"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "so where can I go to see the problem?",
        "ts": "1463755823.000158"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "If you are in Safari, click on \u2018our products'",
        "ts": "1463755853.000159"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "there\u2019s an error indeed...",
        "ts": "1463755926.000160"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U14KVFYS3|huntie> uploaded a file: <https:\/\/emberlondon.slack.com\/files\/huntie\/F1AHJLK3L\/pasted_image_at_2016_05_20_03_52_pm.png|Pasted image at 2016-05-20, 3:52 PM>",
        "file": {
            "id": "F1AHJLK3L",
            "created": 1463755926,
            "timestamp": 1463755926,
            "name": "Pasted image at 2016_05_20 03_52 PM.png",
            "title": "Pasted image at 2016-05-20, 3:52 PM",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U14KVFYS3",
            "editable": false,
            "size": 34470,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T03SSL0FF-F1AHJLK3L\/pasted_image_at_2016_05_20_03_52_pm.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T03SSL0FF-F1AHJLK3L\/download\/pasted_image_at_2016_05_20_03_52_pm.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_64.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_80.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_360.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_360_w": 360,
            "thumb_360_h": 5,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_480.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_480_w": 480,
            "thumb_480_h": 6,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_160.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_720.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_720_w": 720,
            "thumb_720_h": 9,
            "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_960.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_960_w": 960,
            "thumb_960_h": 13,
            "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T03SSL0FF-F1AHJLK3L-9d30dce369\/pasted_image_at_2016_05_20_03_52_pm_1024.png?t=xoxe-3910680525-115741181265-116496169492-28d023e02c",
            "thumb_1024_w": 1024,
            "thumb_1024_h": 13,
            "image_exif_rotation": 1,
            "original_w": 3354,
            "original_h": 44,
            "permalink": "https:\/\/emberlondon.slack.com\/files\/huntie\/F1AHJLK3L\/pasted_image_at_2016_05_20_03_52_pm.png",
            "permalink_public": "https:\/\/slack-files.com\/T03SSL0FF-F1AHJLK3L-f527ab7da4",
            "channels": [
                "C04UJ4W1M"
            ],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U14KVFYS3",
        "upload": true,
        "display_as_bot": false,
        "username": "<@U14KVFYS3|huntie>",
        "bot_id": null,
        "ts": "1463755936.000161"
    },
    {
        "type": "message",
        "user": "U14KVFYS3",
        "text": "Appears to be CORS-related from my location on a desktop browser",
        "edited": {
            "user": "U14KVFYS3",
            "ts": "1463756016.000000"
        },
        "ts": "1463755941.000162"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "indeed. It\u2019s not a problem when you visit from <http:\/\/www.jkpike.com|www.jkpike.com> (note the `www`)",
        "ts": "1463755996.000163"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "because the API is at `www`, but the browser can\u2019t tell them apart",
        "ts": "1463756012.000164"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Hey you\u2019re right",
        "ts": "1463756025.000166"
    },
    {
        "type": "message",
        "user": "U14KVFYS3",
        "text": "Ah, totally",
        "ts": "1463756029.000167"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "isn\u2019t there a way i can do a redirect for that?  that would help with SEO also i think",
        "ts": "1463756060.000168"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "that should fix it, yes. Stick to one of the two",
        "ts": "1463756085.000169"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "use a redirect for anyone landing on the other",
        "ts": "1463756097.000170"
    },
    {
        "type": "message",
        "user": "U0LVBSC67",
        "text": "Ok will do.  Thanks again you guys!  :slightly_smiling_face:",
        "ts": "1463756115.000171"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "on PHP\u2026 I think you had to do `header(\u2018Location: $the_canonical_url\u2019);`",
        "ts": "1463756134.000172"
    },
    {
        "type": "message",
        "user": "U05485UQL",
        "text": "no worries!",
        "ts": "1463756136.000173"
    }
]